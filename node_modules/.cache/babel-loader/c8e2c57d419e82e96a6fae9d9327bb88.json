{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicxp\\\\OneDrive\\\\THINKFUL BACKUP\\\\29-PROJECT-POMODORO-TIMER\\\\Project_Pomodoro_Timer_Qualified_1\\\\src\\\\pomodoro\\\\Pomodoro.js\";\nimport React, { useState } from \"react\";\nimport classNames from \"../utils/class-names\";\nimport useInterval from \"../utils/useInterval\";\nimport BreakTime from \"./BreakTime\";\nimport FocusTime from \"./FocusTime\";\nimport Subtitle from \"./Subtitle\";\nimport Timer from \"./Timer\"; // These functions are defined outside of the component to insure they do not have access to state\n// and are, therefore more likely to be pure.\n\n/**\n * Update the session state with new state after each tick of the interval.\n * @param prevState\n *  the previous session state\n * @returns\n *  new session state with timing information updated.\n */\n\nfunction nextTick(prevState) {\n  const timeRemaining = Math.max(0, prevState.timeRemaining - 1);\n  return { ...prevState,\n    timeRemaining\n  };\n}\n/**\n * Higher order function that returns a function to update the session state with the next session type upon timeout.\n * @param focusDuration\n *    the current focus duration\n * @param breakDuration\n *    the current break duration\n * @returns\n *  function to update the session state.\n */\n\n\nfunction nextSession(focusDuration, breakDuration) {\n  /**\n   * State function to transition the current session type to the next session. e.g. On Break -> Focusing or Focusing -> On Break\n   */\n  return currentSession => {\n    if (currentSession.label === \"Focusing\") {\n      return {\n        label: \"On Break\",\n        timeRemaining: breakDuration * 60\n      };\n    }\n\n    return {\n      label: \"Focusing\",\n      timeRemaining: focusDuration * 60\n    };\n  };\n}\n\nfunction Pomodoro() {\n  // Timer starts out paused\n  const [isTimerRunning, setIsTimerRunning] = useState(false); // The current session - null where there is no session running\n\n  const [session, setSession] = useState(null);\n  const [focusDuration, setFocusDuration] = useState(25);\n  const [breakDuration, setBreakDuration] = useState(5);\n  const [elapsed, setElapsed] = useState(0);\n  const [aria, setAria] = useState(0);\n  const [breakLeft, setBreakLeft] = useState(0); // ToDo: Allow the user to adjust the focus and break duration.\n  //Default starting focusDuration = 25. Function to increase and decrease focusDuration by 5\n  //Default starting breakDuration = 5. Function to increase and decrease breakDuration by 1\n\n  function increaseFocusTime() {\n    //If focusDuration is less than 60 minutes, increase focusDuration by 5\n    if (focusDuration < 60) {\n      setFocusDuration(focusDuration + 5); //setFocusDuration function, accepts focusDuration state and increments by 5\n    }\n  }\n\n  function decreaseFocusTime() {\n    //If focusDuration is greater than 5 minutes, decrease focusDuration by 5\n    if (focusDuration > 5) {\n      setFocusDuration(focusDuration - 5); //setFocusDuration function, accepts focusDuration state and decrements by 5\n    }\n  }\n\n  function increaseDurationTime() {\n    //If breakDuration is less than 15 minutes, increase breakDuration by 1\n    if (durationTime < 15) {\n      setBreakDuration(breakDuration + 1); //setBreakDuration function, accepts breakDuration state and increments by 1\n    }\n  }\n\n  function decreaseDurationTime() {\n    //If breakDuration is greater than 1 minute, decrease breakDuration by 1\n    if (durationTime > 1) {\n      setBreakDuration(breakDuration - 1); //setBreakDuration function, accepts breakDuration state and decrements by 1\n    }\n  }\n  /**\n   * Custom hook that invokes the callback function every second\n   *\n   * NOTE: You will not need to make changes to the callback function\n   */\n\n\n  useInterval(() => {\n    setBreakLeft(breakLeft + 1); //setBreakLeft function, accepts breakLeft state and increments by 1\n\n    if (session.timeRemaining === 0) {\n      new Audio(\"https://bigsoundbank.com/UPLOAD/mp3/1482.mp3\").play();\n      return setSession(nextSession(focusDuration, breakDuration));\n    }\n\n    setSession(nextTick); //given\n\n    const left = session.timeRemaining; //capturing the time remaining in the session in a variable called 'left'\n\n    if (session.label === \"Focusing\") {\n      //if the label of the session is deeply equal to \"Focusing\", then we .....\n      setAria(100 * (focusDuration * 60 - left) / (focusDuration * 60));\n    } else {\n      //Else, then we .......\n      setAria(100 * (breakDuration * 60 - left) / (breakDuration * 60));\n    }\n  }, isTimerRunning ? 1000 : null //If isTimerRunning true, then return 1000, else return null       \n  );\n  useInterval(() => {\n    //useInterval function again. If a session is running and there is time remaining, then increment elapsed by 1.\n    if (session && session.timeRemaining) {\n      return setElapsed(elapsed + 1);\n    }\n  }, 1000);\n  /**\n   * Called whenever the play/pause button is clicked.\n   */\n\n  function playPause() {\n    setIsTimerRunning(prevState => {\n      const nextState = !prevState;\n\n      if (nextState) {\n        setSession(prevStateSession => {\n          // If the timer is starting and the previous session is null,\n          // start a focusing session.\n          if (prevStateSession === null) {\n            return {\n              label: \"Focusing\",\n              timeRemaining: focusDuration * 60\n            };\n          }\n\n          return prevStateSession;\n        });\n      }\n\n      return nextState;\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pomodoro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FocusTime, {\n    focusDuration: focusDuration,\n    increaseFocusTime: increaseFocusTime,\n    isTimerRunning: isTimerRunning,\n    decreaseFocusTime: decreaseFocusTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BreakTime, {\n    breakDuration: breakDuration,\n    increaseBreakTime: increaseBreakTime,\n    isTimerRunning: isTimerRunning,\n    decreaseBreakTime: decreaseBreakTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Timer, {\n    playPause: playPause,\n    isTimerRunning: isTimerRunning,\n    stopButtonHandler: stopButtonHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Subtitle, {\n    aria: aria,\n    breakDuration: breakDuration,\n    focusDuration: focusDuration,\n    session: session,\n    isTimerRunning: isTimerRunning,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default Pomodoro; // return (\n//   <div className=\"pomodoro\">\n//     <div className=\"row\">\n//       <div className=\"col\">\n// ------ FOCUS COMPARTMENT -------\n//         <div className=\"input-group input-group-lg mb-2\">\n//           <span className=\"input-group-text\" data-testid=\"duration-focus\">\n//             {/* TODO: Update this text to display the current focus session duration */}\n//             Focus Duration: 25:00\n//           </span>\n//           <div className=\"input-group-append\">\n//             {/* TODO: Implement decreasing focus duration and disable during a focus or break session */}\n//             <button\n//               type=\"button\"\n//               className=\"btn btn-secondary\"\n//               data-testid=\"decrease-focus\"\n//             >\n//               <span className=\"oi oi-minus\" />\n//             </button>\n//             {/* TODO: Implement increasing focus duration  and disable during a focus or break session */}\n//             <button\n//               type=\"button\"\n//               className=\"btn btn-secondary\"\n//               data-testid=\"increase-focus\"\n//             >\n//               <span className=\"oi oi-plus\" />\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//       <div className=\"col\">\n//         <div className=\"float-right\">\n// ----- BREAK COMPARTMENT -------\n//           <div className=\"input-group input-group-lg mb-2\">\n//             <span className=\"input-group-text\" data-testid=\"duration-break\">\n//               {/* TODO: Update this text to display the current break session duration */}\n//               Break Duration: 05:00\n//             </span>\n//             <div className=\"input-group-append\">\n//               {/* TODO: Implement decreasing break duration and disable during a focus or break session*/}\n//               <button\n//                 type=\"button\"\n//                 className=\"btn btn-secondary\"\n//                 data-testid=\"decrease-break\"\n//               >\n//                 <span className=\"oi oi-minus\" />\n//               </button>\n//               {/* TODO: Implement increasing break duration and disable during a focus or break session*/}\n//               <button\n//                 type=\"button\"\n//                 className=\"btn btn-secondary\"\n//                 data-testid=\"increase-break\"\n//               >\n//                 <span className=\"oi oi-plus\" />\n//               </button>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//     <div className=\"row\">\n//       <div className=\"col\">\n// --------------TIMER COMPARTMENT ---------------------------\n//        <div\n//           className=\"btn-group btn-group-lg mb-2\"\n//           role=\"group\"\n//           aria-label=\"Timer controls\"\n//         >\n//           <button\n//             type=\"button\"\n//             className=\"btn btn-primary\"\n//             data-testid=\"play-pause\"\n//             title=\"Start or pause timer\"\n//             onClick={playPause}\n//           >\n//             <span\n//               className={classNames({\n//                 oi: true,\n//                 \"oi-media-play\": !isTimerRunning,\n//                 \"oi-media-pause\": isTimerRunning,\n//               })}\n//             />\n//           </button>\n//           {/* TODO: Implement stopping the current focus or break session. and disable the stop button when there is no active session */}\n//           {/* TODO: Disable the stop button when there is no active session */}\n//           <button\n//             type=\"button\"\n//             className=\"btn btn-secondary\"\n//             data-testid=\"stop\"\n//             title=\"Stop the session\"\n//           >\n//             <span className=\"oi oi-media-stop\" />\n//           </button>\n//         </div>\n//       </div>\n//     </div>\n// --------- SUBTITLE COMPARTMENT ---------------------\n//     <div>\n//       {/* TODO: This area should show only when there is an active focus or break - i.e. the session is running or is paused */}\n//       <div className=\"row mb-2\">\n//         <div className=\"col\">\n//           {/* TODO: Update message below to include current session (Focusing or On Break) total duration */}\n//           <h2 data-testid=\"session-title\">\n//             {session?.label} for 25:00 minutes\n//           </h2>\n//           {/* TODO: Update message below correctly format the time remaining in the current session */}\n//           <p className=\"lead\" data-testid=\"session-sub-title\">\n//             {session?.timeRemaining} remaining\n//           </p>\n//         </div>\n//       </div>\n//       <div className=\"row mb-2\">\n//         <div className=\"col\">\n//           <div className=\"progress\" style={{ height: \"20px\" }}>\n//             <div\n//               className=\"progress-bar\"\n//               role=\"progressbar\"\n//               aria-valuemin=\"0\"\n//               aria-valuemax=\"100\"\n//               aria-valuenow=\"0\" // TODO: Increase aria-valuenow as elapsed time increases\n//               style={{ width: \"0%\" }} // TODO: Increase width % as elapsed time increases\n//             />\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   </div>\n// );","map":{"version":3,"sources":["C:/Users/nicxp/OneDrive/THINKFUL BACKUP/29-PROJECT-POMODORO-TIMER/Project_Pomodoro_Timer_Qualified_1/src/pomodoro/Pomodoro.js"],"names":["React","useState","classNames","useInterval","BreakTime","FocusTime","Subtitle","Timer","nextTick","prevState","timeRemaining","Math","max","nextSession","focusDuration","breakDuration","currentSession","label","Pomodoro","isTimerRunning","setIsTimerRunning","session","setSession","setFocusDuration","setBreakDuration","elapsed","setElapsed","aria","setAria","breakLeft","setBreakLeft","increaseFocusTime","decreaseFocusTime","increaseDurationTime","durationTime","decreaseDurationTime","Audio","play","left","playPause","nextState","prevStateSession","increaseBreakTime","decreaseBreakTime","stopButtonHandler"],"mappings":"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,oBAAC,SAAD;AACA,IAAA,aAAa,EAAEjB,aADf;AAEA,IAAA,iBAAiB,EAAE2B,iBAFnB;AAGA,IAAA,cAAc,EAAEvB,cAHhB;AAIA,IAAA,iBAAiB,EAAEwB,iBAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CATF,CADF,eAqBE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,KAAD;AACE,IAAA,SAAS,EAAEJ,SADb;AAEE,IAAA,cAAc,EAAEpB,cAFlB;AAGE,IAAA,iBAAiB,EAAEyB,iBAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,CArBF,eA+BI,oBAAC,QAAD;AACE,IAAA,IAAI,EAAEjB,IADR;AAEE,IAAA,aAAa,EAAEZ,aAFjB;AAGE,IAAA,aAAa,EAAED,aAHjB;AAIE,IAAA,OAAO,EAAEO,OAJX;AAKE,IAAA,cAAc,EAAEF,cALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BJ,CADF;AAyCD;;AAED,eAAeD,QAAf,C,CAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA","sourcesContent":["import React, { useState } from \"react\";\nimport classNames from \"../utils/class-names\";\nimport useInterval from \"../utils/useInterval\";\nimport BreakTime from \"./BreakTime\";\nimport FocusTime from \"./FocusTime\";\nimport Subtitle from \"./Subtitle\";\nimport Timer from \"./Timer\";\n\n// These functions are defined outside of the component to insure they do not have access to state\n// and are, therefore more likely to be pure.\n\n/**\n * Update the session state with new state after each tick of the interval.\n * @param prevState\n *  the previous session state\n * @returns\n *  new session state with timing information updated.\n */\nfunction nextTick(prevState) {\n  const timeRemaining = Math.max(0, prevState.timeRemaining - 1);\n  return {\n    ...prevState,\n    timeRemaining,\n  };\n}\n\n/**\n * Higher order function that returns a function to update the session state with the next session type upon timeout.\n * @param focusDuration\n *    the current focus duration\n * @param breakDuration\n *    the current break duration\n * @returns\n *  function to update the session state.\n */\nfunction nextSession(focusDuration, breakDuration) {\n  /**\n   * State function to transition the current session type to the next session. e.g. On Break -> Focusing or Focusing -> On Break\n   */\n  return (currentSession) => {\n    if (currentSession.label === \"Focusing\") {\n      return {\n        label: \"On Break\",\n        timeRemaining: breakDuration * 60,\n      };\n    }\n    return {\n      label: \"Focusing\",\n      timeRemaining: focusDuration * 60,\n    };\n  };\n}\n\nfunction Pomodoro() {\n  // Timer starts out paused\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\n  // The current session - null where there is no session running\n  const [session, setSession] = useState(null);\n  const [focusDuration, setFocusDuration] = useState(25);\n  const [breakDuration, setBreakDuration] = useState(5);\n  const [elapsed, setElapsed] = useState(0);\n  const [aria, setAria] = useState(0);\n  const [breakLeft, setBreakLeft] = useState(0);\n\n\n // ToDo: Allow the user to adjust the focus and break duration.\n //Default starting focusDuration = 25. Function to increase and decrease focusDuration by 5\n //Default starting breakDuration = 5. Function to increase and decrease breakDuration by 1\n \n\nfunction increaseFocusTime () {                             //If focusDuration is less than 60 minutes, increase focusDuration by 5\n  if(focusDuration < 60) {\n    setFocusDuration(focusDuration + 5);                    //setFocusDuration function, accepts focusDuration state and increments by 5\n  }\n}\nfunction decreaseFocusTime () {                           //If focusDuration is greater than 5 minutes, decrease focusDuration by 5\n  if(focusDuration > 5) {\n    setFocusDuration(focusDuration - 5);                  //setFocusDuration function, accepts focusDuration state and decrements by 5\n  }\n}\nfunction increaseDurationTime () {                        //If breakDuration is less than 15 minutes, increase breakDuration by 1\n  if(durationTime < 15) {\n    setBreakDuration(breakDuration + 1);                  //setBreakDuration function, accepts breakDuration state and increments by 1\n  }\n}\nfunction decreaseDurationTime () {                      //If breakDuration is greater than 1 minute, decrease breakDuration by 1\n  if(durationTime > 1) {\n    setBreakDuration(breakDuration - 1);                  //setBreakDuration function, accepts breakDuration state and decrements by 1\n  }\n}\n\n  /**\n   * Custom hook that invokes the callback function every second\n   *\n   * NOTE: You will not need to make changes to the callback function\n   */\n  useInterval(() => {\n    setBreakLeft(breakLeft + 1)                             //setBreakLeft function, accepts breakLeft state and increments by 1\n      if (session.timeRemaining === 0) {\n        new Audio(\"https://bigsoundbank.com/UPLOAD/mp3/1482.mp3\").play();\n        return setSession(nextSession(focusDuration, breakDuration));\n      }\n      setSession(nextTick);       //given\n      const left = session.timeRemaining                  //capturing the time remaining in the session in a variable called 'left'\n      if(session.label === \"Focusing\") {                  //if the label of the session is deeply equal to \"Focusing\", then we .....\n        setAria(100*(focusDuration * 60 - left)/(focusDuration*60))\n      }\n      else {                                              //Else, then we .......\n        setAria(100*(breakDuration * 60 - left)/(breakDuration*60))\n      }\n    },\n    isTimerRunning ? 1000 : null                          //If isTimerRunning true, then return 1000, else return null       \n  );\n\n  useInterval(()=> {                                      //useInterval function again. If a session is running and there is time remaining, then increment elapsed by 1.\n    if(session && session.timeRemaining) {\n      return setElapsed(elapsed + 1)\n    }\n   }, 1000)\n\n  /**\n   * Called whenever the play/pause button is clicked.\n   */\n  function playPause() {\n    setIsTimerRunning((prevState) => {\n      const nextState = !prevState;\n      if (nextState) {\n        setSession((prevStateSession) => {\n          // If the timer is starting and the previous session is null,\n          // start a focusing session.\n          if (prevStateSession === null) {\n            return {\n              label: \"Focusing\",\n              timeRemaining: focusDuration * 60,\n            };\n          }\n          return prevStateSession;\n        });\n      }\n      return nextState;\n    });\n  }\n\n  return (\n    <div className=\"pomodoro\">\n      <div className=\"row\">\n        <div className=\"col\">\n          <FocusTime\n          focusDuration={focusDuration}\n          increaseFocusTime={increaseFocusTime}\n          isTimerRunning={isTimerRunning}\n          decreaseFocusTime={decreaseFocusTime}\n          />\n        </div>\n        <div className=\"col\">\n          <div className=\"float-right\">\n            <BreakTime\n            breakDuration={breakDuration}\n            increaseBreakTime={increaseBreakTime}\n            isTimerRunning={isTimerRunning}\n            decreaseBreakTime={decreaseBreakTime}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col\">\n          {/*Timer Start?*/}\n          <Timer\n            playPause={playPause}\n            isTimerRunning={isTimerRunning}\n            stopButtonHandler={stopButtonHandler}\n          />\n        </div>\n      </div>\n        <Subtitle \n          aria={aria}\n          breakDuration={breakDuration}\n          focusDuration={focusDuration}\n          session={session}\n          isTimerRunning={isTimerRunning}\n        />  \n    </div>\n  );\n}\n\nexport default Pomodoro;\n\n\n\n\n\n\n\n// return (\n//   <div className=\"pomodoro\">\n//     <div className=\"row\">\n//       <div className=\"col\">\n\n// ------ FOCUS COMPARTMENT -------\n//         <div className=\"input-group input-group-lg mb-2\">\n//           <span className=\"input-group-text\" data-testid=\"duration-focus\">\n//             {/* TODO: Update this text to display the current focus session duration */}\n//             Focus Duration: 25:00\n//           </span>\n//           <div className=\"input-group-append\">\n//             {/* TODO: Implement decreasing focus duration and disable during a focus or break session */}\n//             <button\n//               type=\"button\"\n//               className=\"btn btn-secondary\"\n//               data-testid=\"decrease-focus\"\n//             >\n//               <span className=\"oi oi-minus\" />\n//             </button>\n//             {/* TODO: Implement increasing focus duration  and disable during a focus or break session */}\n//             <button\n//               type=\"button\"\n//               className=\"btn btn-secondary\"\n//               data-testid=\"increase-focus\"\n//             >\n//               <span className=\"oi oi-plus\" />\n//             </button>\n//           </div>\n//         </div>\n\n\n\n//       </div>\n//       <div className=\"col\">\n//         <div className=\"float-right\">\n\n// ----- BREAK COMPARTMENT -------\n//           <div className=\"input-group input-group-lg mb-2\">\n//             <span className=\"input-group-text\" data-testid=\"duration-break\">\n//               {/* TODO: Update this text to display the current break session duration */}\n//               Break Duration: 05:00\n//             </span>\n//             <div className=\"input-group-append\">\n//               {/* TODO: Implement decreasing break duration and disable during a focus or break session*/}\n//               <button\n//                 type=\"button\"\n//                 className=\"btn btn-secondary\"\n//                 data-testid=\"decrease-break\"\n//               >\n//                 <span className=\"oi oi-minus\" />\n//               </button>\n//               {/* TODO: Implement increasing break duration and disable during a focus or break session*/}\n//               <button\n//                 type=\"button\"\n//                 className=\"btn btn-secondary\"\n//                 data-testid=\"increase-break\"\n//               >\n//                 <span className=\"oi oi-plus\" />\n//               </button>\n//             </div>\n//           </div>\n\n\n//         </div>\n//       </div>\n//     </div>\n//     <div className=\"row\">\n//       <div className=\"col\">\n\n// --------------TIMER COMPARTMENT ---------------------------\n//        <div\n//           className=\"btn-group btn-group-lg mb-2\"\n//           role=\"group\"\n//           aria-label=\"Timer controls\"\n//         >\n//           <button\n//             type=\"button\"\n//             className=\"btn btn-primary\"\n//             data-testid=\"play-pause\"\n//             title=\"Start or pause timer\"\n//             onClick={playPause}\n//           >\n//             <span\n//               className={classNames({\n//                 oi: true,\n//                 \"oi-media-play\": !isTimerRunning,\n//                 \"oi-media-pause\": isTimerRunning,\n//               })}\n//             />\n//           </button>\n//           {/* TODO: Implement stopping the current focus or break session. and disable the stop button when there is no active session */}\n//           {/* TODO: Disable the stop button when there is no active session */}\n//           <button\n//             type=\"button\"\n//             className=\"btn btn-secondary\"\n//             data-testid=\"stop\"\n//             title=\"Stop the session\"\n//           >\n//             <span className=\"oi oi-media-stop\" />\n//           </button>\n//         </div>\n//       </div>\n//     </div>\n\n// --------- SUBTITLE COMPARTMENT ---------------------\n//     <div>\n//       {/* TODO: This area should show only when there is an active focus or break - i.e. the session is running or is paused */}\n//       <div className=\"row mb-2\">\n//         <div className=\"col\">\n//           {/* TODO: Update message below to include current session (Focusing or On Break) total duration */}\n//           <h2 data-testid=\"session-title\">\n//             {session?.label} for 25:00 minutes\n//           </h2>\n//           {/* TODO: Update message below correctly format the time remaining in the current session */}\n//           <p className=\"lead\" data-testid=\"session-sub-title\">\n//             {session?.timeRemaining} remaining\n//           </p>\n//         </div>\n//       </div>\n//       <div className=\"row mb-2\">\n//         <div className=\"col\">\n//           <div className=\"progress\" style={{ height: \"20px\" }}>\n//             <div\n//               className=\"progress-bar\"\n//               role=\"progressbar\"\n//               aria-valuemin=\"0\"\n//               aria-valuemax=\"100\"\n//               aria-valuenow=\"0\" // TODO: Increase aria-valuenow as elapsed time increases\n//               style={{ width: \"0%\" }} // TODO: Increase width % as elapsed time increases\n//             />\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n\n\n//   </div>\n// );"]},"metadata":{},"sourceType":"module"}